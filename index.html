
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>父体与子体SKU生成器</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin: 0;
            padding: 0;
            background-color: #f0f8ff;
            color: #333;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            display: block;
            max-width: 600px;
            width: 90%;
            margin: 20px auto;
        }
        button, select, input {
            margin: 10px 0;
            padding: 10px;
            font-size: 16px;
            border-radius: 5px;
            border: 1px solid #ccc;
            width: 100%;
            max-width: 400px;
            box-sizing: border-box;
        }
        button {
            background-color: #007BFF;
            color: white;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        button:hover {
            background-color: #0056b3;
        }
        #skuResult, #childSkuResult, #commissionInfo {
            margin-top: 20px;
            font-weight: bold;
            font-size: 18px;
            color: #007BFF;
        }
        h1 {
            color: #0056b3;
            margin-bottom: 30px;
        }
        label {
            display: block;
            margin: 15px 0 5px;
            font-weight: bold;
            font-size: 14px;
            text-align: left;
            max-width: 400px;
            margin-left: auto;
            margin-right: auto;
        }
        hr {
            border: none;
            border-top: 1px solid #ccc;
            margin: 30px 0;
        }
        #history h2 {
            font-size: 18px;
            margin-bottom: 10px;
            color: #333;
        }
        #history ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        #history ul li {
            padding: 5px 0;
            border-bottom: 1px solid #ddd;
            font-size: 14px;
            color: #555;
        }
        #history ul li:last-child {
            border-bottom: none;
        }
        .title {
            text-align: center;
            margin-bottom: 20px;
        }
    </style>
    <script>
        let categoryCodes = {
            "服装": "CLO", "汽车用品": "AUT", "母婴": "BAB", "美妆": "BEA", "图书": "BKS",
            "摄影摄像": "CAM", "消费类电子产品": "CE", "电子产品配件": "EAC", "家具": "FUR",
            "礼品卡": "GFT", "食品": "GRO", "个护健康": "HPC", "家居": "HOM", "家庭娱乐": "HEN",
            "珠宝首饰": "JEW", "厨房用品": "KIT", "箱包": "LUG", "大型电器": "LAP", "手机": "CEL",
            "音乐": "MUS", "乐器": "INS", "办公用品": "OFF", "户外用品": "OUT", "电脑商城": "COM",
            "香水": "PER", "个护用品": "PCA", "宠物用品": "PET", "鞋靴": "SHO", "小型电器": "SAP",
            "软件": "SOF", "运动": "SPO", "邮票收藏品": "COL", "工具和家居装修": "TOL", "玩具": "TOY",
            "影视和DVD": "DVD", "视频游戏机": "VGC", "视频游戏": "VGM", "钟表": "WAT"
        };

        let amazonCommission = {
            "服装": "15%",
            "汽车用品": "12%",
            "母婴": "总售价: 8% (50AED以下), 15% (50AED以上)",
            "美妆": "总售价: 8% (50AED以下), 15% (50AED以上)",
            "图书": "15%",
            "摄影摄像": "7%",
            "消费类电子产品": "8%",
            "电子产品配件": "销售部分: 15% (250AED以下), 8% (250AED以上)",
            "家具": "销售部分: 15% (750AED以下), 10% (750AED以上)",
            "礼品卡": "5%",
            "食品": "总售价: 5% (50AED以下), 11% (50AED以上)",
            "个护健康": "总售价: 8% (50AED以下), 15% (50AED以上)",
            "家居": "15%",
            "家庭娱乐": "15%",
            "珠宝首饰": "销售部分: 16% (1000AED以下), 5% (1000AED以上)",
            "厨房用品": "15%",
            "箱包": "15%",
            "大型电器": "6%",
            "手机": "5%",
            "音乐": "10%",
            "乐器": "10%",
            "办公用品": "14%",
            "户外用品": "15%",
            "电脑商城": "8%",
            "香水": "15%",
            "个护用品": "总售价: 8% (50AED以下), 15% (50AED以上)",
            "宠物用品": "总售价: 8% (50AED以下), 15% (50AED以上)",
            "鞋靴": "15%",
            "小型电器": "13%",
            "软件": "10%",
            "运动": "14%",
            "邮票收藏品": "10%",
            "工具和家居装修": "15%",
            "玩具": "14%",
            "影视和DVD": "10%",
            "视频游戏机": "6%",
            "视频游戏": "15%",
            "钟表": "销售部分: 15% (5000AED以下), 5% (5000AED以上)"
        };

        let attributeValues = {
            "白色": "WH", "黑色": "BL", "金色": "GD", "银色": "SL", "粉色": "PK",
            "灰色": "GY", "蓝色": "BU", "红色": "RD", "绿色": "GN", "黄色": "YW",
            "单件": "SG", "双件套": "DB", "三件套": "TR", "四件套": "QD", "五件套": "FV",
            "小": "SM", "中": "MD", "大": "LG", "特大": "XL", "款式A": "A", "款式B": "B", 
            "款式C": "C", "款式D": "D", "款式E": "E"
        };

        let savedRandomNumber = null;
        let skuHistory = [];
        const correctPassword = "010615";

        function verifyPassword() {
            const enteredPassword = prompt("请输入密码以继续：");
            return enteredPassword === correctPassword;
        }

        window.onload = function () {
            updateCategoryOptions();
            updateAttributeOptions();
        };

        function updateCategoryOptions() {
            const categorySelect = document.getElementById("category");
            categorySelect.innerHTML = '<option value="">请选择</option>';
            for (const category in categoryCodes) {
                const option = document.createElement("option");
                option.value = category;
                option.text = category;
                categorySelect.appendChild(option);
            }
        }

        function updateAttributeOptions() {
            const attribute1Select = document.getElementById("attribute1");
            const attribute2Select = document.getElementById("attribute2");
            attribute1Select.innerHTML = '<option value="">请选择</option>';
            attribute2Select.innerHTML = '<option value="">请选择</option>';
            for (const attribute in attributeValues) {
                const option1 = document.createElement("option");
                option1.value = attribute;
                option1.text = attribute;
                attribute1Select.appendChild(option1);

                const option2 = document.createElement("option");
                option2.value = attribute;
                option2.text = attribute;
                attribute2Select.appendChild(option2);
            }
            const noneOption = document.createElement("option");
            noneOption.value = "无";
            noneOption.text = "无";
            attribute2Select.appendChild(noneOption);
        }

        function addCategory() {
            if (!verifyPassword()) {
                alert("密码错误，无法执行操作！");
                return;
            }
            const categoryName = document.getElementById("newCategoryName").value.trim();
            const categoryCode = document.getElementById("newCategoryCode").value.trim();
            const commission = document.getElementById("newCategoryCommission").value.trim();

            if (categoryName && categoryCode && commission) {
                categoryCodes[categoryName] = categoryCode;
                amazonCommission[categoryName] = commission;
                updateCategoryOptions();
                alert(`分类 "${categoryName}" 已成功添加！`);
            } else {
                alert("请完整填写分类名称、简码和佣金！");
            }
        }

        function addAttribute() {
            if (!verifyPassword()) {
                alert("密码错误，无法执行操作！");
                return;
            }
            const attributeName = document.getElementById("newAttributeName").value.trim();
            const attributeCode = document.getElementById("newAttributeCode").value.trim();

            if (attributeName && attributeCode) {
                attributeValues[attributeName] = attributeCode;
                updateAttributeOptions();
                alert(`属性 "${attributeName}" 已成功添加！`);
            } else {
                alert("请完整填写属性名称和简码！");
            }
        }

        function deleteCategory() {
            if (!verifyPassword()) {
                alert("密码错误，无法执行操作！");
                return;
            }
            const categoryToDelete = document.getElementById("deleteCategoryName").value.trim();
            if (categoryToDelete && categoryCodes[categoryToDelete]) {
                delete categoryCodes[categoryToDelete];
                delete amazonCommission[categoryToDelete];
                updateCategoryOptions();
                alert(`分类 "${categoryToDelete}" 已被删除！`);
            } else {
                alert("分类名称无效或不存在！");
            }
        }

        function deleteAttribute() {
            if (!verifyPassword()) {
                alert("密码错误，无法执行操作！");
                return;
            }
            const attributeToDelete = document.getElementById("deleteAttributeName").value.trim();
            if (attributeToDelete && attributeValues[attributeToDelete]) {
                delete attributeValues[attributeToDelete];
                updateAttributeOptions();
                alert(`属性 "${attributeToDelete}" 已被删除！`);
            } else {
                alert("属性名称无效或不存在！");
            }
        }

        function generateParentSKU() {
            const category = document.getElementById("category").value;
            const categoryCode = categoryCodes[category];
            const commission = amazonCommission[category] || "未定义";
            savedRandomNumber = Math.floor(1000 + Math.random() * 9000);
            const parentSKU = `${categoryCode}-PARENT-${savedRandomNumber}`;
            document.getElementById("skuResult").innerText = `父体SKU: ${parentSKU}`;
            document.getElementById("commissionInfo").innerText = `亚马逊佣金: ${commission}`;
        }

        function generateChildSKU() {
            const category = document.getElementById("category").value;
            const attribute1 = document.getElementById("attribute1").value;
            const attribute2 = document.getElementById("attribute2").value;
            const categoryCode = categoryCodes[category];
            const attribute1Code = attributeValues[attribute1];
            let childSKU;

            if (attribute2 === "无") {
                childSKU = `${categoryCode}-${attribute1Code}-${savedRandomNumber}`;
            } else {
                const attribute2Code = attributeValues[attribute2];
                childSKU = `${categoryCode}-${attribute1Code}-${attribute2Code}-${savedRandomNumber}`;
            }

            document.getElementById("childSkuResult").innerText = `子体SKU: ${childSKU}`;
            skuHistory.push(childSKU);
            updateHistory();
        }

        function updateHistory() {
            const historyContainer = document.getElementById("history");
            const ul = historyContainer.querySelector("ul");
            ul.innerHTML = "";
            skuHistory.forEach((sku, index) => {
                const li = document.createElement("li");
                li.innerText = `${index + 1}. ${sku}`;
                ul.appendChild(li);
            });
        }
    </script>
</head>
<body>
    <div class="container">
        <h1 class="title">父体与子体SKU生成器</h1>
        <label for="category">选择产品分类：</label>
        <select id="category">
            <option value="">请选择</option>
        </select>
        <button onclick="generateParentSKU()">生成父体SKU</button>
        <p id="skuResult"></p>
        <p id="commissionInfo"></p>
        <hr>
        <label for="attribute1">选择第一个属性值：</label>
        <select id="attribute1">
            <option value="">请选择</option>
        </select>
        <label for="attribute2">选择第二个属性值：</label>
        <select id="attribute2">
            <option value="">请选择</option>
        </select>
        <button onclick="generateChildSKU()">生成子体SKU</button>
        <p id="childSkuResult"></p>
    </div>

    <div class="container" id="history">
        <h2 class="title">子体SKU生成历史</h2>
        <ul></ul>
    </div>

    <div class="container">
        <h2 class="title">新增与删除分类和属性</h2>
        <h3>新增分类和属性</h3>
        <label for="newCategoryName">新增分类名称：</label>
        <input type="text" id="newCategoryName" placeholder="请输入分类名称">
        <label for="newCategoryCode">新增分类简码：</label>
        <input type="text" id="newCategoryCode" placeholder="请输入分类简码">
        <label for="newCategoryCommission">新增分类佣金：</label>
        <input type="text" id="newCategoryCommission" placeholder="请输入分类佣金">
        <button onclick="addCategory()">添加分类</button>
        <hr>
        <label for="newAttributeName">新增属性名称：</label>
        <input type="text" id="newAttributeName" placeholder="请输入属性名称">
        <label for="newAttributeCode">新增属性简码：</label>
        <input type="text" id="newAttributeCode" placeholder="请输入属性简码">
        <button onclick="addAttribute()">添加属性</button>
        <hr>
        <h3>删除分类和属性</h3>
        <label for="deleteCategoryName">删除分类名称：</label>
        <input type="text" id="deleteCategoryName" placeholder="请输入要删除的分类名称">
        <button onclick="deleteCategory()">删除分类</button>
        <hr>
        <label for="deleteAttributeName">删除属性名称：</label>
        <input type="text" id="deleteAttributeName" placeholder="请输入要删除的属性名称">
        <button onclick="deleteAttribute()">删除属性</button>
    </div>
</body>
</html>
